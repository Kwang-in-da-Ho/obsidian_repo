# 쿠팡에서는 어떻게 일했는가? (2013~2016 쿠팡 로켓배송 팀 근무 경험 공유)

# 1. 조직과 문화
## 1-1. Quality, Change, Feedback
### 1-1-1. Quality
* 대외적으로 보이는 외부 품질 뿐만 아니라 코드의 유지보수성, 가독성 등 내부 품질에도 focus
* **Code Review**
  * 매일 일정한 시간대에 1시간정도 할애하여 그 날 작업한 분량에 대한 코드리뷰 진행
  * 모든 배포 건에 대해 코드리뷰 진행
  * Hotfix 건에 대해서도 GitLab을 통한 온라인 리뷰 진행 후에 배포
  * 코드는 **팀의 책임** 이라는 마인드
* **Test Coverage** : 최소 97% 이상의 커버리지가 나와야 팀 평가가 잘 나옴
* **Technical Debt** : 일정 수준 이상을 넘어가지 않게 항상 모니터링(sonar)
  * 언젠가는 해결해야 하는 문제이기 때문에 너무 쌓이면 나중에 피본다.. 
### 1-1-2. Change
* 변화가 매우 잦음
* 변화에 유연하게 대처할 수 있는 코드가 매우 중요(코드 내부 품질)
### 1-1-3. Feedback
* 변화에 대한 feedback이 잘 이뤄져야 함
* 소스 코드에 어떤 변화가 발생했을 때 잘 돌아 가냐?
* 이를 backup하기 위한 CI/CD, TDD
## 1-2. 문서화
* 하고 있는 것, 알고 있는 것, 모두 적어서 공유
## 1-3. 개발자 개인의 실력과 태도
* 이런 문화가 잘 유지되기 위해서는 개발자 개인의 실력과 태도가 매우 중요
  * 실력 : 커뮤니케이션 비용과 관련됨. 기술적인 이야기가 막힘없이 수월하게 잘 통하는 수준
  * 태도 : 적극적으로 소통하고 문제를 해결하려는 태도. 어찌 보면 실력보다 더 중요할 수도 있다. 적극적인 문서화
    * 능동적으로 공부, 연구(회사 차원에서 도서비 무제한 지원)
    * 자율적인 스터디
## 1-4. 공부, 연구, 공유
* 회사 도서비 무제한 지원
* 스터디 모임 많음
* 2~3주마다 있는 tech session
## 1-5. 개발 방법론
* DDD가 핵심 - Sigle Point of Failure 추구, 가능한 한 작은 단위로 나누기
 
# 2. 기술
## 2-1. 버전 관리
### 2-1-1. API 버전
* API url에 버전 표기 필수
* 각 API 버전과 관련된 DTO도 버전 관리함
### 2-1-2. Source Code 버전
* 소스코드 뿐 아니라 DB 테이블 변경 사항(DDL)도 모두 배포/Rollback (`flyway`라는 솔루션? 사용)
* 소스코드는 DB와 불가분의 관계라고 생각
* DB Rollback을 위한 DDL(`ALTER`문)도 작성하면서 버전 관리를 함
## 2-2. DB 관련
* 반드시 Local에 개발자별로 별도의 DB가 구축되어야 함
  * DB 칼럼 변경 등 자유롭게 개발, 테스트해볼 수 있는 환경 구성
* 복합Key 대신 인조Key를 사용함
  * 모든 테이블의 ID 칼럼 : Long, Auto-increment
  * 테이블 파악이 더 용이해짐
  * 쿼리 작성 시 생산성과 유지보수성 향상
## 2-3. 배포
* 배포 시 항상 배포 wiki문서 작성
  * 변경 사항 및 배포 전 확인사항 checklist가 템플릿으로 정해져 있음
# 3. 참고 자료
* [개발 방법론 등에 대한 굉장히 좋은 자료](https://kwonnam.pe.kr/wiki/web)
* 최범근 DDD 서적
